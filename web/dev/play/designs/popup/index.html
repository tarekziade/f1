<!DOCTYPE html>
<html>
<head>
    <title>F1: Popup</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script data-main="index.js" src="/scripts/requireplugins-jquery.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/jquery.textOverflow.js"></script>

    <script type="text/javascript">
        jQuery(function() {
          jQuery(".overflow").textOverflow(null,true);
        });
    </script>
    
</head>
<body>

<div id="wrapper">

    <div id="shareui">
    <header class="hbox">
        <h1 class="boxFlex">Mozilla F1</h1>
        <nav>
            <ul>
                <li><a href="/settings/" class="configureToggle">settings</a></li>
            </ul>
        </nav>
    </header>

    <div class="sharebox">

    <div id="pageInfo">
        <div class="hbox">
            <div>
                <div class="thumbnail"><img class="thumb" src=""></div>
            </div>
            <div class="boxFlex1 shareInfo">
                <div class="overflow pageTitle title"></div>
                <div class="overflow pageDescription description"></div>
                <a href="javascript:void(0);" class="url overflow selected"></a>
                <a href="javascript:void(0);" class="shorturl overflow surl"></a>
            </div>
        </div>
    </div>

    <div id="accounts">

        <div id="debugpanel" class="hbox debugging user">
            <span class="arrow"></span>
            <span class="icon debug"></span>
            <h3 class="boxFlex overflow">debug</h3>
            <span class="username">developer</span>
        </div>
        <div id="debugging">
            <div class="padding">
              <button onclick="window.closeShare()">Close</button>
              <button onclick="window.showStatus('statusSharing', true)">Show Sharing</button>
              <button onclick="window.showStatus('statusServerBusy', true)">Show Server Busy</button>
              <button onclick="window.showStatus('statusError', true)">Show Error</button>
              <button onclick="window.showStatusShared()">Show Shared</button>
              <button onclick="window.showStatus('statusServerError', true)">Show Server Error</button>
              <button onclick="window.showStatus('statusAuth', true)">Show Auth Error</button>
              <button onclick="window.showStatus('statusCaptcha', true)">Show Captcha</button>
              <button onclick="alert(localStorage.gmailContacts)">Alert contacts cache</button>
            </div>
        </div>

    </div>
    
    <div id="newsBox">
        <section id="news" class="hbox boxFlex headline invisible">
            <div>
                <span class="icon rss"></span>
            </div>
            <div class="boxFlex">
                <h3>Latest from the F1 team</h3>
                <div class="story">&ldquo;<a id="rssLink" href="#" target="_blank">Updating...</a>&rdquo;</div>
            </div>
        </section>
    </div>

    </div>

    </div>

    <!-- Click blocker for status messages. Should be before status messages but
         after main content for z-order purposes -->
    <div id="clickBlock" class="hidden"></div>

    <!-- Start status messages -->

    <div id="statusSettings" class="status hidden noConfig">
      <table>
        <tr>
          <td>
            <img src="/share/i/f1-icon-grey.png"> <a target="_blank" class="settingsLink" href="/settings/">click here to setup F1</a>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusSharing" class="status hidden">
      <table>
        <tr>
          <td>
            <img src="/share/i/loader.gif"> sharing...
          </td>
        </tr>
      </table>
    </div>

    <div id="statusOAuthFailed" class="status hidden error">
      <table>
        <tr>
          <td>
            Sorry, we couldn't connect to your account. Please try again.
            <button class="statusButton statusErrorButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusEnableLocalStorage" class="status hidden">
      <table>
        <tr>
          <td>
            Please enable DOM Storage to use Mozilla F1.
          </td>
        </tr>
      </table>
    </div>

    <div id="statusError" class="status hidden error">
      <table>
        <tr>
          <td>
            We're really sorry, F1 done goofed up. <span id="statusErrorMessage"></span>
            <button class="statusButton statusErrorButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusCaptcha" class="status hidden intermediate captcha">
      <div class="captcha-wrap vbox boxFlex center">
        <div>
        <form name="captchaForm" onsubmit="document.getElementById('captchaButton').click();return false;" class="hbox boxFlex">
          <div><img id="captchaImage" class="captchaImage"/></div>
          <div>
            <div class="text">Please enter the text you see:</div>
            <div class="controls hbox boxFlex">
              <input class="boxFlex" id="captcha" name="captcha" placeholder="captcha" type="text"/>
              <button id="captchaButton" class="statusButton">submit</button>
            </div>
            <div class="subtext">(sorry, sometimes email providers require this)</div>
          </div>
        </form>
        </div>
      </div>
    </div>

    <div id="statusToError" class="status hidden error">
      <table>
        <tr>
          <td>
            The 'to' field is required to send email.
            <button class="statusButton statusErrorButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusServerError" class="status hidden error">
      <table>
        <tr>
          <td>
            We're really sorry, the F1 server is having problems. Please try again later. <span id="statusServerErrorMessage"></span>
            <button id="statusServerErrorButton" class="statusButton statusErrorCloseButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusAuth" class="status hidden intermediate error">
      <table>
        <tr>
          <td>
            Sorry, you've been signed out. Sign in again to finish sharing.
            <button id="authOkButton" class="statusButton">sign in</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusServerBusy" class="status hidden warning">
      <table>
        <tr>
          <td>
            Sorry, F1 is under heavy load right now, please try again later.
            <button class="statusButton statusErrorButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusServerBusyClose" class="status hidden warning">
      <table>
        <tr>
          <td>
            Sorry, F1 is under heavy load right now, please try again later.
            <button class="statusButton statusErrorCloseButton">ok</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="statusShared" class="status hidden">
      <table>
        <tr>
          <td>
            Message Shared!
          </td>
        </tr>
      </table>
    </div>

    <!-- End status messages -->

</div>

<!-- Start templates -->
<script id="panelsTemplate" type="text/template">
    <div class="hbox {type} user">
        <span class="arrow"></span>
        <span class="icon {type}"></span>
        <h3 class="boxFlex overflow">{name}</h3>
        <span class="username">Username</span>
    </div>

  <div id="{type}" class="{type}">
    <div class="padding">
    <form name="{type}Send" class="hbox messageForm" action="#">
      <div class="user inactive col">
        <input type="hidden" name="domain" value="{domain}" />
        <input type="hidden" name="userid" value="" />
        <input type="hidden" name="username" value="" />
        <input type="hidden" name="picture" value="" />
        <input type="hidden" name="link" value="" />
        <input type="hidden" name="title" value="" />
        <input type="hidden" name="caption" value="" />
        <input type="hidden" name="description" value="" />
        <span class="avatar"><img class="avatar" src="/share/i/face2.png"></span>
      </div>
      { features.direct [}
      <div class="message boxFlex addressing">
        <input name="to" placeholder="to" type="text" value="" class="ffshareAutoComplete" autocompletestore="{domain}"/>
      { features.subject [}
        <input name="subject" placeholder="subject" type="text" value=""/>
      {]}
      {]}
        <textarea class="message compose" placeholder="Type your message here, and we'll attach the link when you send." name="message"></textarea>
        <div class="accountActions hbox">
        <div class="boxFlex">
      { features.counter [}
          <div class="counter"></div>
      {]}
        </div>
          <button class="share" type="submit">share</button>
        </div>
      </div>
    </form>
    </div>
  </div>
</script>


<script id="sharedTemplate" type="text/template">
      <table>
        <tr>
          <td>
            Link shared from <span class="shareDomain">{domain}</span> to <a href="{href}" target="_blank">{service}</a>
          </td>
        </tr>
      </table>
</script>
<!-- End templates -->



</body>
</html>
